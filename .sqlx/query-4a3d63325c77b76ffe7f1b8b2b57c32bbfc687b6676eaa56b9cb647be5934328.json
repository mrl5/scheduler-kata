{
  "db_name": "PostgreSQL",
  "query": "\nWITH q AS (\n    DELETE FROM task_bucket USING (\n        SELECT id FROM task_bucket LIMIT 100 FOR UPDATE SKIP LOCKED\n    ) t\n    WHERE t.id = task_bucket.id\n    RETURNING task_bucket.id, task_bucket.created_at, task_bucket.not_before\n) INSERT INTO queue (task_id, task_created_at, not_before)\nSELECT id, created_at,\n    CASE\n        WHEN not_before IS NULL\n            THEN created_at\n        ELSE not_before\n    END\nfrom q ON CONFLICT DO NOTHING\n        ",
  "describe": {
    "columns": [],
    "parameters": {
      "Left": []
    },
    "nullable": []
  },
  "hash": "4a3d63325c77b76ffe7f1b8b2b57c32bbfc687b6676eaa56b9cb647be5934328"
}
